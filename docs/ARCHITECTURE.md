# Saju Lab Architecture (Initial)

## 1) 목표 정량화 벡터(Phase 체크용)

| Goal ID | 설명 | 가중치 |
| --- | --- | --- |
| G1 | Report-first 경험(설명 중심) | 0.35 |
| G2 | 결정지원(커리어/재무) | 0.25 |
| G3 | 오락/일상 인사이트 | 0.15 |
| G4 | 투명성/불확실성 표현 | 0.15 |
| G5 | 오픈소스/규칙 기반 가용성 | 0.10 |

### Phase 체크 방식
- 신규 기능/모듈마다 G1~G5 점수(0~1)를 기록
- 가중합 0.70 이상이면 목표 근접으로 판단
- 0.70 미만이면 범위 축소 또는 방향 재정렬 제안
- 초기 2~3주: 주간 체크, 이후 스프린트 종료 시 1회로 간소화

### Phase 체크 기록 템플릿
- 기능/모듈:
- G1:
- G2:
- G3:
- G4:
- G5:
- 가중합:
- 판단/조치:

## 2) 모노레포 구조 제안

```
/apps
  /web             # Next.js web app
  /docs            # 문서 사이트(옵션)
/packages
  /saju-core       # 계산 + 스키마 + 규칙 기반 해석
  /saju-ui         # 공유 UI 컴포넌트
  /saju-i18n       # 번역 및 포맷
  /saju-types      # 공통 타입
```

## 3) saju-core 역할

- 절기 기반 사주 계산(연/월/일/시주)
- 보고서 스키마 버전 관리
- 규칙 기반 해석(비-AI 모드)

## 4) 고위험 영역 & 검증 전략

### 고위험
- 절기 기준 월주 정확성
- 일주 계산(천간지지 순환)
- 톤 가이드(비신비적, 설명 중심)

### 검증
- 공개 가능한 골든 날짜 데이터셋 확보
- unit + snapshot 테스트
- 리뷰어가 결과 표준표와 대조

## 5) i18n 전략

- KR 우선, EN 확장 가능한 key 기반 문구 관리
- 리포트 텍스트는 번역 키를 사용
