# Solar Term & Pillar Calculation Spec (Draft)

## 목적
- 절기(24절기) 기준 월주 계산의 경계 조건을 명확히 정의
- 양력 입력에서 연/월/일/시주 산출을 위한 입력/출력 요구사항을 정리

## 입력 요구사항
- 양력 생년월일 (YYYY-MM-DD)
- 출생시간 선택 (HH:mm)
- 타임존 (기본 Asia/Seoul)

## 절기 기반 월주 규칙(개요)
- 월주는 **절기 기준**으로 구분
- 경계: 특정 절기의 정확한 시각 이전/이후로 월주가 달라짐
- 예: 입춘 이전 → 전년도 절기 체계, 입춘 이후 → 새 연도 기준

## 계산 단계(개요)
1. 입력을 타임존 기준으로 표준화
2. 해당 날짜/시간에 대응하는 **절기 경계** 계산
3. 절기 경계를 기준으로 월주 산정
4. 천간/지지 60갑자 순환으로 연/월/일/시주 산출

## 경계 조건 체크리스트
- 절기 경계 시각과 동일한 시각 입력 시 처리 규칙 명확화
- 출생시간 미상 시 월주/시주 처리 규칙
- 윤년, 윤달(음력 변환이 필요 시) 처리 여부 명확화

## 검증 전략
- KASI 등 공공 절기 데이터와 비교
- 공개 절기표와 결과 대조
- 골든 픽스처로 일관성 검증

## 산출물
- `calculatePillars(input)`에서 절기 계산 모듈 분리
- 경계 시각 데이터는 캐시 가능

